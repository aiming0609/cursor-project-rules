# 更新日志

## [0.2.0] - 2025-03-06

### 新增
- 全面的模型配置检查机制
  - 现在会检查所有必要配置项（modelUrl、apiKey和modelName）
  - 只有当所有配置项都已设置才能使用扩展功能
- 配置助手工具
  - 新增 `scripts/configure_helper.py` 脚本帮助用户配置设置
  - 新增 `configure_model.bat` 批处理文件为Windows用户提供便捷配置体验
- 重置配置提示状态命令
  - 新增 "Cursor: 重置配置提示状态" 命令允许用户手动重置提示状态
- 网站测试和诊断工具
  - 新增 `scripts/test_fetch_rules.py` 基本测试脚本
  - 新增 `scripts/test_fetch_interactive.py` 交互式测试工具
  - 新增 `scripts/update_selectors.py` 选择器更新工具
  - 新增 `test_website.bat` 批处理测试工具
- 本地规则选择器
  - 新增 `scripts/local_rules_selector.py` 允许从本地JSON文件选择规则
  - 新增 "Cursor: 选择本地规则" 命令
  - 新增 `select_local_rules.bat` 批处理文件
  - 不再依赖网络连接和API模型，可以离线使用

### 改进
- 模型配置检查流程
  - 提示用户直接配置缺少的配置项，而不是只显示一般性提示
  - 即使选择"不再提醒"，在配置不完整的情况下仍会提示用户配置
- 环境变量支持
  - 支持通过环境变量 `CURSOR_RULES_MODEL_URL`、`CURSOR_RULES_API_KEY` 和 `CURSOR_RULES_MODEL_NAME` 设置配置项
- 文档更新
  - 更新README.md文档，添加关于新配置机制和工具的说明
  - 添加网站结构变更处理指南
  - 添加本地规则选择器使用说明
- 网站抓取功能增强
  - 增强了对网站结构变化的适应能力
  - 添加了多种备选CSS选择器
  - 支持离线模式测试
- 增加离线支持
  - 添加本地规则数据库，不再依赖网络连接
  - 可以完全离线工作，特别适合网络受限或不稳定的环境

### 修复
- 修复即使配置不完整也可以使用功能的问题
- 修复Windows终端中的字符编码问题
- 修复网站结构变化导致无法获取规则的问题
- 修复依赖网络连接导致的不稳定性问题

## [0.2.1] - 2025-03-07

### 新增
- 本地规则选择器增强
  - 增加项目结构自动分析功能，能够检测项目使用的技术栈
  - 增加智能文件匹配模式（globs）自动调整功能
  - 增加代码样本收集功能，用于AI分析
  - 默认启用AI驱动的规则定制功能，无需用户手动选择

### 改进
- 规则定制AI交互
  - 改进提示词构造，提供更多项目上下文信息
  - 增强结果解析，能够从非标准输出中提取有效内容
  - 支持环境变量配置AI模型参数
- 用户体验优化
  - 简化交互流程，默认使用AI增强规则质量
  - 更新批处理文件和说明，使流程更加清晰
  - 添加完整的环境变量配置示例
- 文档更新
  - 更新README.md，添加关于增强型本地规则选择器的详细说明
  - 添加更多配置示例和最佳实践建议

### 修复
- 修复了AI模型调用中的错误处理问题
- 优化了项目分析过程中的性能问题
- 改善了大型项目中的文件样本采集策略

## [0.1.0] - 初始发布

- 基础的Cursor项目规则生成功能
- 支持从Cursor Directory获取规则
- 支持使用AI模型生成规则
- 支持规则预览和选择 